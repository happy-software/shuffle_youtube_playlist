{"version":3,"sources":["AppConstants.js","components/ToggleableButton.js","components/ButtonList.js","components/LoadingPlaceholder.js","components/Player.js","components/PlaylistSelectorItem.js","components/PlaylistSelector.js","components/VideoTitleDisplay.js","components/PlayedHistory.js","components/CurrentVideoInfo.jsx","hooks/VideoHook.js","pages/ShufflePlayer.js","pages/TrackPlaylistForm.js","pages/PlaylistsManager.jsx","pages/PlaylistsSearch.jsx","AppRoot.js","index.js"],"names":["APIRoot","appConstants","APIEndpoints","SHUFFLE","TRACKED_PLAYLISTS","TRACKED_VIDEOS","ToggleableButton","props","className","toggled","onClick","setToggled","message","ButtonList","pickNextVideo","repeatVideo","setRepeatVideo","hideVideo","setHideVideo","to","type","target","rel","LoadingPlaceholder","width","height","viewBox","fill","d","attributeName","from","dur","repeatCount","Player","style","display","url","videoId","controls","loop","onReady","event","onEnded","onEnd","onError","console","log","JSON","stringify","playing","config","youtube","playerVars","embedOptions","host","attributes","tracks","PlaylistSelectorItem","value","checked","onChange","onCheckboxChange","label","PlaylistSelector","id","playlists","map","p","name","playlist_id","is_default","onShuffle","onSelectNone","VideoTitleDisplay","onVideoClicked","flex","title","paddingLeft","href","alt","src","PlayedHistory","useState","isCollapsedDefault","videoPoolCollapsed","setVideoPoolCollapsed","playedVideos","videos","slice","reverse","video","index","video_id","CurrentVideoInfo","videoInfoCollapsed","setVideoInfoCollapsed","currentVideo","description","initialReducedState","isLoaded","error","isError","videoFetchReducer","_","data","songs","reducedState","Error","fetchData","requestBody","raiseEvent","isCancelled","a","axios","post","result","ShufflePlayer","loadedPlaylists","setLoadedPlaylists","setCurrentVideo","setPlayedVideos","playlistIds","setPlaylistIds","initialPlaylistIds","useReducer","setReducedState","useEffect","AppConstants","playlist_ids","useVideoHook","videoResult","reloadVideos","min","max","videoIndex","length","Math","floor","random","nextVideo","updatePlayedHistory","vids","concat","get","then","response","catch","togglePlaylistId","toggledOnePlaylist","filter","togglePlaylistSelection","selectedNoPlaylists","v","selectSpecificVideo","TrackPlaylistForm","state","server_errors","redirect_home","handleInputChange","bind","handleSubmit","this","setState","preventDefault","status","e","onSubmit","placeholder","errors","React","Component","PlaylistsManager","List","queryString","list","item","toLowerCase","toString","search","matchingItem","PlaylistsSearch","loadedVideos","setLoadedVideos","setQueryString","AppRoot","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.625b72fe.chunk.js","sourcesContent":["// const APIRoot = \"http://localhost:8000\"; // When running locally\nconst APIRoot = \"https://happy-youtube-watcher.herokuapp.com\";\nconst appConstants = {\n  APIEndpoints: {\n    SHUFFLE: APIRoot + \"/shuffle\",\n    TRACKED_PLAYLISTS: APIRoot + \"/tracked-playlists\",\n    TRACKED_VIDEOS:    APIRoot + \"/videos\",\n  },\n};\n\nexport default appConstants;\n","import React from 'react';\n\nfunction ToggleableButton(props) {\n  return (\n    <button\n      className={`${props.className}${props.toggled?' toggled':''}`}\n      onClick={() => props.setToggled(!props.toggled)}\n    >{props.message}</button>\n  )\n}\n\nexport default ToggleableButton;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ToggleableButton from './ToggleableButton';\n\nfunction ButtonList(props) {\n  return (\n    <div className=\"buttonList\">\n      <div>\n        <button\n          onClick={props.pickNextVideo}\n          className='buttonListButton nextVideoButton'\n        >Next Video</button>\n        <ToggleableButton\n          toggled={props.repeatVideo}\n          setToggled={props.setRepeatVideo}\n          message=\"Repeat Video\"\n          className=\"buttonListButton\"\n        />\n        <ToggleableButton\n          toggled={props.hideVideo}\n          setToggled={props.setHideVideo}\n          message={props.hideVideo ? \"Show Video\" : \"Hide Video\"}\n          className=\"buttonListButton\"\n        />\n        <Link\n          to=\"/track-new-playlist\"\n          className=\"link\">\n          <button\n            type=\"button\"\n            className=\"buttonListButton\"\n          >Track New Playlist</button>\n        </Link>\n        <Link\n          to=\"/search\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"link\">\n          <button\n            type=\"button\"\n            className=\"buttonListButton\"\n          >Search</button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nexport default ButtonList;\n","import React from 'react';\r\n\r\nfunction LoadingPlaceholder(props) {\r\n  return(\r\n  <div className=\"loader\">\r\n    <svg width=\"50\" height=\"50\" viewBox=\"0 0 50 50\">\r\n      <path fill=\"#c779d0\" d=\"M25,5A20.14,20.14,0,0,1,45,22.88a2.51,2.51,0,0,0,2.49,2.26h0A2.52,2.52,0,0,0,50,22.33a25.14,25.14,0,0,0-50,0,2.52,2.52,0,0,0,2.5,2.81h0A2.51,2.51,0,0,0,5,22.88,20.14,20.14,0,0,1,25,5Z\">\r\n      <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.5s\" repeatCount=\"indefinite\" />\r\n      </path>\r\n    </svg>\r\n    <div>Give me a minute to wake up... so sleepy...</div>\r\n  </div>);\r\n}\r\n\r\nexport default LoadingPlaceholder;\r\n","import React from 'react';\nimport ReactPlayer from 'react-player';\n\nfunction Player(props) {\n  function onReady(event) {\n    // no-op\n  }\n\n  function onError(event) {\n    console.log(`BROKEN VIDEO: ${JSON.stringify(props.videoId, null, 2)}`)\n    props.onEnd()\n  }\n\n  return(\n    <div style={{display: props.hideVideo ? 'none' : 'block'}}>\n      <ReactPlayer\n        url={`https://www.youtube.com/watch?v=${props.videoId}`}\n        controls={true}\n        loop={props.repeatVideo}\n        onReady={(event) => onReady(event)}\n        onEnded={() => props.onEnd()}\n        onError={() => onError()}\n        playing={true}\n        width={\"100%\"}\n        height={\"800px\"}\n        config={{\n          youtube: {\n            playerVars: {},\n            embedOptions: {\n              host: \"https://www.youtube-nocookie.com\",\n            }\n          },\n          attributes: {},\n          tracks: [],\n        }}\n      />\n    </div>\n  );\n}\n\nexport default Player;","import React from 'react';\n\nfunction PlaylistSelectorItem(props) {\n  return (\n    <div className=\"playlistSelectorItem\">\n      <label className=\"checkbox_label\">\n        <input \n          type=\"checkbox\"\n          value={props.value}\n          checked={props.checked}\n          onChange={() => props.onCheckboxChange(props.value)}\n          className=\"checkbox_input\"\n        />{props.label}</label>\n    </div>\n  )\n}\n\nexport default PlaylistSelectorItem;","import React from 'react';\nimport PlaylistSelectorItem from './PlaylistSelectorItem';\n\nfunction PlaylistSelector(props) {\n  return (\n    <div id=\"playlistSelector\" className=\"playlistSelector\">\n      <div className=\"playlistSelectorTitle\">Available Playlists</div>\n      <div className=\"playlistSelectorInner\">\n        {props.playlists.map(p =>\n          <PlaylistSelectorItem\n          key={p.playlist_id}\n          label={p.name}\n          value={p.playlist_id}\n          checked={p.is_default}\n          onCheckboxChange={(playlist_id) => props.onCheckboxChange(playlist_id)}\n          />\n        )}\n      </div>\n      <button \n        onClick={() => props.onShuffle()}\n        className=\"playlistSelectorButton\"\n      >Combine Playlists</button>\n      <button \n        onClick={() => props.onSelectNone()}\n        className=\"playlistSelectorButton\"\n      >Select None</button>\n    </div>\n  );\n}\n\nexport default PlaylistSelector;","import React from 'react';\n\nfunction VideoTitleDisplay(props) {\n  const titleOpts = {\n    flex: 1\n  }\n  const anchorOpts = {\n    paddingLeft: 3, \n    flex: 0\n  }\n\n  return (\n    <div \n      id=\"videoTitleDisplay\" \n      onClick={() => props.onVideoClicked(props.videoId)}\n      className={`${props.className}`}\n    >\n      <div style={titleOpts}>{props.title}</div>\n      <a \n        style={anchorOpts} \n        href={`https://youtube.com/watch?v=${props.videoId}`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <img alt='Go to Youtube' src={'/arrow-up-right.svg'}></img>\n      </a>\n    </div>\n  );\n}\n\nexport default VideoTitleDisplay;","import React, { useState }  from 'react';\nimport VideoTitleDisplay from './VideoTitleDisplay';\n\nfunction PlayedHistory(props) {\n  const [videoPoolCollapsed, setVideoPoolCollapsed] = useState(props.isCollapsedDefault);\n  const playedVideos = props.videos.slice().reverse();\n\n  return (\n    <div className={`videoPool`}>\n      <div \n        className={`videoPoolTitle`} \n        onClick={() => setVideoPoolCollapsed(!videoPoolCollapsed)}\n      >Video History (Expand/Collapse)</div>\n\n      <div className={`videoPoolList ${videoPoolCollapsed ?'hide' : ''}`}>\n        {\n        playedVideos.map((video, index) =>\n          <VideoTitleDisplay \n            key={index}\n            videoId={video.video_id} \n            title={video.title}\n            onVideoClicked={(videoId) => props.onVideoClicked(videoId)}\n            className={`videoPoolItem`} \n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default PlayedHistory;\n","import React, { useState }  from 'react';\n\nfunction CurrentVideoInfo(props) {\n  const titleOpts = {\n    flex: 1\n  }\n  const anchorOpts = {\n    paddingLeft: 3, \n    flex: 0\n  }\n\n  const [videoInfoCollapsed, setVideoInfoCollapsed] = useState(true);\n\n  return(\n    <>\n    <div id=\"videoTitleDisplay\" className='currentVideoTitle contentRow' onClick={() => setVideoInfoCollapsed(!videoInfoCollapsed)}>\n      <div style={titleOpts}>{props.currentVideo.title}</div>\n      <a style={anchorOpts} href={`https://youtube.com/watch?v=${props.currentVideo.video_id}`} target=\"_blank\" rel=\"noopener noreferrer\">\n        <img alt='Go to Youtube' src={'/arrow-up-right.svg'}></img>\n      </a>\n    </div>\n\n    <div className=\"contentRow\">\n      <div className={`${videoInfoCollapsed ? 'hide' : ''}`}>\n        {props.currentVideo.description}\n      </div>\n    </div>\n    </>\n  );\n}\n\nexport default CurrentVideoInfo;","import {\n    useState, \n    useEffect,\n    useReducer,\n}  from 'react';\nimport axios from 'axios';\nimport AppConstants from '../AppConstants';\n\nconst initialReducedState = {\n  videos: [],\n  isLoaded: false, \n  error: null,\n  isError: false,\n};\n\nconst videoFetchReducer = (_, event) => {\n  switch (event.type) {\n    case 'FETCH_INIT':\n      return initialReducedState;\n    case 'FETCH_SUCCESS':\n      return {\n        ...initialReducedState,\n        videos: event.data.songs,\n        isLoaded: true,\n      };\n    case 'FETCH_FAILURE':\n      const reducedState = {\n        ...initialReducedState,\n        error: event.error,\n        isError: true,\n      };\n      console.log(\"Error encountered during video fetch\");\n      console.log(reducedState.error);\n      return reducedState;\n    default:\n      throw new Error(`Unhandled event type: ${event.type}`);\n  }\n};\n \nconst fetchData = async (url, requestBody, raiseEvent, isCancelled) => {\n  raiseEvent({ type: 'FETCH_INIT' });\n  try {\n    const result = await axios.post(url, requestBody);\n    if (isCancelled) return;\n    raiseEvent({ type: 'FETCH_SUCCESS', data: result.data });\n  } catch (error) {\n    if (isCancelled) return;\n    raiseEvent({ type: 'FETCH_FAILURE', error: error });\n  }\n};\n\nexport default function useVideoHook(initialPlaylistIds) {\n  const [playlistIds, setPlaylistIds] = useState(initialPlaylistIds);\n  const [reducedState, setReducedState] = useReducer(videoFetchReducer, initialReducedState);\n\n  useEffect(() => {\n    let isCancelled = false;\n    fetchData(AppConstants.APIEndpoints.SHUFFLE, { playlist_ids: playlistIds }, setReducedState, isCancelled);\n    return () => isCancelled = true;\n  }, [playlistIds]);\n\n  return [reducedState, setPlaylistIds];\n};\n","import React, { useState, useEffect }  from 'react';\nimport axios from 'axios';\nimport AppConstants from '../AppConstants';\nimport ButtonList from '../components/ButtonList';\nimport LoadingPlaceholder from '../components/LoadingPlaceholder';\nimport Player from '../components/Player';\nimport PlaylistSelector from '../components/PlaylistSelector';\nimport PlayedHistory from '../components/PlayedHistory';\nimport CurrentVideoInfo from '../components/CurrentVideoInfo';\nimport useVideoHook from '../hooks/VideoHook';\n\nfunction randomInteger(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction ShufflePlayer() {\n  const [loadedPlaylists, setLoadedPlaylists] = useState([]);\n  const [currentVideo, setCurrentVideo] = useState({});\n  const [playedVideos, setPlayedVideos] = useState([]);\n  const [repeatVideo, setRepeatVideo] = useState(false);\n  const [hideVideo, setHideVideo] = useState(false);  \n  const [playlistIds, setPlaylistIds] = useState([]);\n  const [videoResult, reloadVideos] = useVideoHook(playlistIds);\n\n  function loadPlaylists() {\n    axios\n      .get(AppConstants.APIEndpoints.TRACKED_PLAYLISTS)\n      .then(response => setLoadedPlaylists(response.data))\n      .catch(error => console.log(`Couldn't retrieve tracked playlists! ${error}`))\n  }\n\n  function togglePlaylistSelection(togglePlaylistId) {\n    const toggledOnePlaylist = loadedPlaylists.map(p => { \n      return p.playlist_id === togglePlaylistId ? \n        { ...p, is_default: !p.is_default } : p});\n    const playlistIds = toggledOnePlaylist\n      .filter(p => p.is_default)\n      .map(p => p.playlist_id);\n    setPlaylistIds(playlistIds);\n    setLoadedPlaylists(toggledOnePlaylist);\n  }\n\n  function onSelectNone() {\n    const selectedNoPlaylists = loadedPlaylists.map(p => { \n      return { ...p, is_default: false }});\n    setPlaylistIds([]);\n    setLoadedPlaylists(selectedNoPlaylists);\n  }\n\n  function pickNextVideo() {\n    if (!videoResult.isLoaded) { return; }\n    const videoIndex = randomInteger(0, videoResult.videos.length);\n    const nextVideo = videoResult.videos[videoIndex];\n    setCurrentVideo(nextVideo);\n    updatePlayedHistory(nextVideo)\n  }\n\n  function selectSpecificVideo(videoId) {\n    if (!videoResult.isLoaded) { return; }\n    const video = videoResult.videos.filter(v => v.video_id === videoId)[0];\n    setCurrentVideo(video);\n    updatePlayedHistory(video);\n  }\n\n  function updatePlayedHistory(video) {\n    setPlayedVideos(vids => vids.concat(video))\n  }\n\n  useEffect(loadPlaylists, []);\n  useEffect(pickNextVideo, [videoResult]);\n\n  return ( !videoResult.isLoaded ? <LoadingPlaceholder /> : \n    <div>\n      <Player\n        videoId={currentVideo.video_id}\n        onEnd={() => pickNextVideo()}\n        repeatVideo={repeatVideo}\n        hideVideo={hideVideo}\n      />\n      <CurrentVideoInfo currentVideo={currentVideo} />\n\n      <div className='contentRow'>\n        <PlaylistSelector\n          playlists={loadedPlaylists}\n          onCheckboxChange={(playlist_id) => togglePlaylistSelection(playlist_id)}\n          onShuffle={() => reloadVideos(playlistIds)}\n          onSelectNone={() => onSelectNone()}\n          className='playlistSelector'\n        />\n        <PlayedHistory\n          videos={playedVideos}\n          isCollapsedDefault={false}\n          onVideoClicked={(videoId) => selectSpecificVideo(videoId)}\n        />\n        <ButtonList \n          repeatVideo={repeatVideo}\n          setRepeatVideo={setRepeatVideo}\n          hideVideo={hideVideo}\n          setHideVideo={setHideVideo}\n          pickNextVideo={() => pickNextVideo()}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default ShufflePlayer;\n","import React from \"react\";\nimport {Redirect} from 'react-router-dom'\nimport axios from 'axios';\nimport AppConstants from '../AppConstants';\n\nclass TrackPlaylistForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playlist_id: '',\n      is_default: true,\n      server_errors: [],\n      redirect_home: false,\n    }\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit      = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value  = target.name === 'is_default' ? target.checked : target.value;\n    const name   = target.name;\n\n    this.setState({[name]: value});\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({server_errors: []})\n    axios.post(AppConstants.APIEndpoints.TRACKED_PLAYLISTS, {playlist_id: this.state.playlist_id, is_default: this.state.is_default})\n      .then((response) => {\n        if (response.status >= 200 && response.status < 300) {\n          this.setState({redirect_home: true})\n        }\n      })\n      .catch((e) => this.setState({server_errors: [e], redirect_home: false}))\n  }\n\n  render() {\n    if (this.state.redirect_home) {\n      return(<Redirect to=\"/\" />)\n    }\n\n    return(\n      <form onSubmit={this.handleSubmit}>\n        <label>Playlist ID: </label>\n        <input type=\"text\" name=\"playlist_id\" value={this.state.playlist_id} onChange={this.handleInputChange} placeholder=\"(e.g. 'PL8g7AzKjYPsNWX5N1pYudn2OetM85N0GS')\" style={{\"width\": \"40%\"}}/>\n\n        <label> Default Playlist? </label>\n        <input type=\"checkbox\" name=\"is_default\" checked={this.state.is_default} onChange={this.handleInputChange} />\n\n        <p><input type=\"submit\" value=\"Submit\" /></p>\n\n        <div style={{\"marginTop\": \"25px\"}} className={`${this.state.server_errors.length > 0 ? '' : 'hide'}`}>\n          Submission Errors: {this.state.server_errors.map((e, index) => <li key={index}>{e.response.data.errors}</li>)}\n        </div>\n      </form>\n    )\n  }\n}\n\nexport default TrackPlaylistForm;\n","import React from 'react';\n\nfunction PlaylistsManager(props) {\n  return(<h1>Playlists Manager</h1>);\n}\n\nexport default PlaylistsManager;","import React, { useState, useEffect }  from 'react';\nimport axios from 'axios';\nimport AppConstants from '../AppConstants';\nimport SearchField from 'react-search-field'\n\nconst List = props => (\n  <div className=\"list\">\n    <div className=\"list-header\">\n      {/* once we decide on a table structure, we can fill out the headers here */}\n    </div>\n\n    <div className=\"list-body\">\n      {\n        filteredList(props.queryString, props.list).map((item, index) => (\n          <ul key={index}>\n            <li>\n              <a href={`https://youtube.com/watch?v=${item.videoId}`}\n                 target=\"_blank\"\n                 rel=\"noopener noreferrer\">\n                {item.title}\n              </a>\n            </li>\n          </ul>\n        ))\n      }\n    </div>\n  </div>\n);\n\nfunction filteredList(queryString, list) {\n  return list.filter(item => matchingItem(item, queryString))\n}\n\nfunction matchingItem(item, queryString) {\n  if (queryString === \"\") { return true } \n  queryString = queryString.toLowerCase();\n  if (item.videoId.toString().toLowerCase().search(queryString) >= 0 ||\n    item.title.toString().toLowerCase().search(queryString) >= 0 ||\n    item.description.toString().toLowerCase().search(queryString) >= 0\n    ) {\n    return true;\n  }\n\n  return false;\n}\n\n\n\nfunction PlaylistsSearch(props) {\n  const [loadedVideos, setLoadedVideos] = useState([]);\n  const [queryString, setQueryString] = useState(\"\");\n\n  const handleInput = value => {\n    setQueryString(value);\n  }\n\n  function loadVideos() {\n    axios.get(AppConstants.APIEndpoints.TRACKED_VIDEOS)\n    .then(response => setLoadedVideos(response.data))\n    .catch(error => console.log(`Couldn't retrieve tracked videos: ${error}`))\n  }\n\n  useEffect(loadVideos, []);\n\n  return(\n    <div>\n      <SearchField onChange={handleInput} placeholder=\"Search Videos...\" />\n      <List queryString={queryString} list={loadedVideos} />\n    </div>\n    );\n}\n\nexport default PlaylistsSearch;","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport ShufflePlayer from './pages/ShufflePlayer';\nimport TrackPlaylistForm from './pages/TrackPlaylistForm';\nimport PlaylistsManager  from './pages/PlaylistsManager';\nimport PlaylistsSearch   from './pages/PlaylistsSearch';\n\nexport default function AppRoot() {\n  return(\n    <Router>\n      <div>\n        <Switch>\n          <Route path=\"/track-new-playlist\">\n            <TrackPlaylistForm />\n          </Route>\n          <Route path=\"/manage\">\n            <PlaylistsManager />\n          </Route>\n          <Route path=\"/search\">\n            <PlaylistsSearch />\n          </Route>\n          <Route exact path=\"/\">\n            <ShufflePlayer />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './normalize.css';\nimport AppRoot from './AppRoot';\n\nReactDOM.render(<AppRoot />, document.getElementById(\"root\"));"],"sourceRoot":""}