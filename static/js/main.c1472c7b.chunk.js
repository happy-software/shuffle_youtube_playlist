(this.webpackJsonpshuffle_youtube_playlist=this.webpackJsonpshuffle_youtube_playlist||[]).push([[0],{42:function(e,t,a){e.exports=a(91)},47:function(e,t,a){},48:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),c=a.n(r),o=(a(47),a(48),a(13)),i=a(1),s=a(15),u=a(4),d=a(10),m=a.n(d),h="https://happy-youtube-watcher.herokuapp.com",f={APIEndpoints:{SHUFFLE:h+"/shuffle",TRACKED_PLAYLISTS:h+"/tracked-playlists",TRACKED_VIDEOS:h+"/videos"}};var p=function(e){return l.a.createElement("button",{className:"".concat(e.className).concat(e.toggled?" toggled":""),onClick:function(){return e.setToggled(!e.toggled)}},e.message)};var E=function(e){return l.a.createElement("div",{className:"buttonList"},l.a.createElement("div",null,l.a.createElement("button",{onClick:e.pickNextVideo,className:"buttonListButton nextVideoButton"},"Next Video"),l.a.createElement(p,{toggled:e.repeatVideo,setToggled:e.setRepeatVideo,message:"Repeat Video",className:"buttonListButton"}),l.a.createElement(p,{toggled:e.hideVideo,setToggled:e.setHideVideo,message:e.hideVideo?"Show Video":"Hide Video",className:"buttonListButton"}),l.a.createElement(o.b,{to:"/track-new-playlist",className:"link"},l.a.createElement("button",{type:"button",className:"buttonListButton"},"Track New Playlist")),l.a.createElement(o.b,{to:"/search",target:"_blank",rel:"noopener noreferrer",className:"link"},l.a.createElement("button",{type:"button",className:"buttonListButton"},"Search"))))};var v=function(e){return l.a.createElement("div",{className:"loader"},l.a.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50"},l.a.createElement("path",{fill:"#c779d0",d:"M25,5A20.14,20.14,0,0,1,45,22.88a2.51,2.51,0,0,0,2.49,2.26h0A2.52,2.52,0,0,0,50,22.33a25.14,25.14,0,0,0-50,0,2.52,2.52,0,0,0,2.5,2.81h0A2.51,2.51,0,0,0,5,22.88,20.14,20.14,0,0,1,25,5Z"},l.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.5s",repeatCount:"indefinite"}))),l.a.createElement("div",null,"Give me a minute to wake up... so sleepy..."))},b=a(36),y=a.n(b);var g=function(e){return l.a.createElement("div",{style:{display:e.hideVideo?"none":"block"}},l.a.createElement(y.a,{url:"https://www.youtube.com/watch?v=".concat(e.videoId),controls:!0,loop:e.repeatVideo,onReady:function(e){},onEnded:function(){return e.onEnd()},onError:function(){return console.log("BROKEN VIDEO: ".concat(JSON.stringify(e.videoId,null,2))),void e.onEnd()},playing:!0,width:"100%",height:"800px",config:{youtube:{playerVars:{},embedOptions:{host:"https://www.youtube-nocookie.com"}},attributes:{},tracks:[]}}))};var S=function(e){return l.a.createElement("div",{className:"playlistSelectorItem"},l.a.createElement("label",{className:"checkbox_label"},l.a.createElement("input",{type:"checkbox",value:e.value,checked:e.checked,onChange:function(){return e.onCheckboxChange(e.value)},className:"checkbox_input"}),e.label))};var k=function(e){return l.a.createElement("div",{id:"playlistSelector",className:"playlistSelector"},l.a.createElement("div",{className:"playlistSelectorTitle"},"Available Playlists"),l.a.createElement("div",{className:"playlistSelectorInner"},e.playlists.map((function(t){return l.a.createElement(S,{key:t.playlist_id,label:t.name,value:t.playlist_id,checked:t.is_default,onCheckboxChange:function(t){return e.onCheckboxChange(t)}})}))),l.a.createElement("button",{onClick:function(){return e.onShuffle()},className:"playlistSelectorButton"},"Combine Playlists"),l.a.createElement("button",{onClick:function(){return e.onSelectNone()},className:"playlistSelectorButton"},"Select None"))};var _=function(e){return l.a.createElement("div",{id:"videoTitleDisplay",onClick:function(){return e.onVideoClicked(e.videoId)},className:"".concat(e.className)},l.a.createElement("div",{style:{flex:1}},e.title),l.a.createElement("a",{style:{paddingLeft:3,flex:0},href:"https://youtube.com/watch?v=".concat(e.videoId),target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{alt:"Go to Youtube",src:"/arrow-up-right.svg"})))};var N=function(e){var t=Object(n.useState)(e.isCollapsedDefault),a=Object(u.a)(t,2),r=a[0],c=a[1],o=e.videos.slice().reverse();return l.a.createElement("div",{className:"videoPool"},l.a.createElement("div",{className:"videoPoolTitle",onClick:function(){return c(!r)}},"Video History (Expand/Collapse)"),l.a.createElement("div",{className:"videoPoolList ".concat(r?"hide":"")},o.map((function(t,a){return l.a.createElement(_,{key:a,videoId:t.video_id,title:t.title,onVideoClicked:function(t){return e.onVideoClicked(t)},className:"videoPoolItem"})}))))};var C=function(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2),r=a[0],c=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"videoTitleDisplay",className:"currentVideoTitle contentRow",onClick:function(){return c(!r)}},l.a.createElement("div",{style:{flex:1}},e.currentVideo.title),l.a.createElement("a",{style:{paddingLeft:3,flex:0},href:"https://youtube.com/watch?v=".concat(e.currentVideo.video_id),target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{alt:"Go to Youtube",src:"/arrow-up-right.svg"}))),l.a.createElement("div",{className:"contentRow"},l.a.createElement("div",{className:"".concat(r?"hide":"")},e.currentVideo.description)))};var O=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),d=i[0],h=i[1],p=Object(n.useState)([]),b=Object(u.a)(p,2),y=b[0],S=b[1],_=Object(n.useState)({}),O=Object(u.a)(_,2),j=O[0],V=O[1],w=Object(n.useState)([]),I=Object(u.a)(w,2),x=I[0],L=I[1],P=Object(n.useState)(!1),T=Object(u.a)(P,2),A=T[0],D=T[1],R=Object(n.useState)(!1),B=Object(u.a)(R,2),K=B[0],Y=B[1];function H(){var e={playlist_ids:d.filter((function(e){return e.is_default})).map((function(e){return e.playlist_id}))};m.a.post(f.APIEndpoints.SHUFFLE,e).then((function(e){return S(e.data.songs)})).catch((function(e){return console.log("Couldn't retrieve playlist videos! ".concat(e))}))}function F(){if(y.length){var e=y[Math.floor(Math.random()*y.length)%y.length];V(e),M(e)}}function M(e){L(x.concat(e))}return Object(n.useEffect)(H,[]),Object(n.useEffect)((function(){m.a.get(f.APIEndpoints.TRACKED_PLAYLISTS).then((function(e){h(e.data),c(!0)})).catch((function(e){return console.log("Couldn't retrieve tracked playlists! ".concat(e))}))}),[]),Object(n.useEffect)(F,[y]),r?l.a.createElement("div",null,l.a.createElement(g,{videoId:j.video_id,onEnd:function(){return F()},repeatVideo:A,hideVideo:K}),l.a.createElement(C,{currentVideo:j}),l.a.createElement("div",{className:"contentRow"},l.a.createElement(k,{playlists:d,onCheckboxChange:function(e){return function(e){var t=d.map((function(t){return t.playlist_id===e?Object(s.a)(Object(s.a)({},t),{},{is_default:!t.is_default}):t}));h(t)}(e)},onShuffle:function(){return H()},onSelectNone:function(){return function(){var e=d.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{is_default:!1})}));h(e)}()},className:"playlistSelector"}),l.a.createElement(N,{videos:x,isCollapsedDefault:!1,onVideoClicked:function(e){return function(e){if(y.length){var t=y.filter((function(t){return t.video_id===e}))[0];V(t),M(t)}}(e)}}),l.a.createElement(E,{repeatVideo:A,setRepeatVideo:D,hideVideo:K,setHideVideo:Y,pickNextVideo:function(){return F()}}))):l.a.createElement(v,null)},j=a(16),V=a(37),w=a(38),I=a(14),x=a(41),L=a(40),P=function(e){Object(x.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(V.a)(this,a),(n=t.call(this,e)).state={playlist_id:"",is_default:!0,server_errors:[],redirect_home:!1},n.handleInputChange=n.handleInputChange.bind(Object(I.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(I.a)(n)),n}return Object(w.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a="is_default"===t.name?t.checked:t.value,n=t.name;this.setState(Object(j.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({server_errors:[]}),m.a.post(f.APIEndpoints.TRACKED_PLAYLISTS,{playlist_id:this.state.playlist_id,is_default:this.state.is_default}).then((function(e){e.status>=200&&e.status<300&&t.setState({redirect_home:!0})})).catch((function(e){return t.setState({server_errors:[e],redirect_home:!1})}))}},{key:"render",value:function(){return this.state.redirect_home?l.a.createElement(i.a,{to:"/"}):l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Playlist ID: "),l.a.createElement("input",{type:"text",name:"playlist_id",value:this.state.playlist_id,onChange:this.handleInputChange,placeholder:"(e.g. 'PL8g7AzKjYPsNWX5N1pYudn2OetM85N0GS')",style:{width:"40%"}}),l.a.createElement("label",null," Default Playlist? "),l.a.createElement("input",{type:"checkbox",name:"is_default",checked:this.state.is_default,onChange:this.handleInputChange}),l.a.createElement("p",null,l.a.createElement("input",{type:"submit",value:"Submit"})),l.a.createElement("div",{style:{marginTop:"25px"},className:"".concat(this.state.server_errors.length>0?"":"hide")},"Submission Errors: ",this.state.server_errors.map((function(e,t){return l.a.createElement("li",{key:t},e.response.data.errors)}))))}}]),a}(l.a.Component);var T=function(e){return l.a.createElement("h1",null,"Playlists Manager")},A=a(39),D=a.n(A),R=function(e){return l.a.createElement("div",{className:"list"},l.a.createElement("div",{className:"list-header"}),l.a.createElement("div",{className:"list-body"},(t=e.queryString,a=e.list,a.filter((function(e){return function(e,t){return""===t||(t=t.toLowerCase(),e.videoId.toString().toLowerCase().search(t)>=0||e.title.toString().toLowerCase().search(t)>=0||e.description.toString().toLowerCase().search(t)>=0)}(e,t)}))).map((function(e,t){return l.a.createElement("ul",{key:t},l.a.createElement("li",null,l.a.createElement("a",{href:"https://youtube.com/watch?v=".concat(e.videoId),target:"_blank",rel:"noopener noreferrer"},e.title)))}))));var t,a};var B=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),s=i[0],d=i[1];return Object(n.useEffect)((function(){m.a.get(f.APIEndpoints.TRACKED_VIDEOS).then((function(e){return c(e.data)})).catch((function(e){return console.log("Couldn't retrieve tracked videos: ".concat(e))}))}),[]),l.a.createElement("div",null,l.a.createElement(D.a,{onChange:function(e){d(e)},placeholder:"Search Videos..."}),l.a.createElement(R,{queryString:s,list:r}))};function K(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/track-new-playlist"},l.a.createElement(P,null)),l.a.createElement(i.b,{path:"/manage"},l.a.createElement(T,null)),l.a.createElement(i.b,{path:"/search"},l.a.createElement(B,null)),l.a.createElement(i.b,{exact:!0,path:"/"},l.a.createElement(O,null)))))}c.a.render(l.a.createElement(K,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c1472c7b.chunk.js.map